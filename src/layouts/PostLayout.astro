---
import BaseLayout from "./BaseLayout.astro";
import { Image } from "astro:assets";
const { frontmatter } = Astro.props;
const { title, description, date, updated, hero, tags, category } = frontmatter;
---
<BaseLayout title={`${title} — Tech & Trek`} description={description}>
  <article class="prose prose-invert max-w-3xl">
    <p class="text-xs uppercase tracking-wide text-muted">{category}</p>
    <h1 class="mb-2">{title}</h1>
    <p class="!mt-0 text-muted text-sm">
      {date.toDateString()}{updated ? ` • updated ${updated.toDateString()}` : ""}
    </p>
    {hero && <img src={hero} alt={title} class="rounded-2xl border border-white/5 my-6" loading="lazy" />}
    <slot />
    {tags?.length ? (
      <div class="mt-10 flex flex-wrap gap-2">
        {tags.map(t => <a href={`/tags/${t}`} class="rounded-full border border-white/10 px-3 py-1 text-xs text-muted hover:text-text">{t}</a>)}
      </div>
    ) : null}
	<section class="mt-10">
	  <script src="https://giscus.app/client.js"
		data-repo="YOUR_GITHUB_USERNAME/YOUR_REPO"
		data-repo-id="REPO_ID"
		data-category="General"
		data-category-id="CATEGORY_ID"
		data-mapping="pathname"
		data-reactions-enabled="1"
		data-theme="dark"
		crossorigin="anonymous"
		async>
	  </script>
	</section>
  </article>
</BaseLayout>
