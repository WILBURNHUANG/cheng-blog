---
const { post } = Astro.props;
const { data, slug } = post;
const formattedDate = data.date.toLocaleDateString("en-US", {
  month: "short",
  day: "numeric",
  year: "numeric",
});
---
<a
  href={`/posts/${slug}`}
  class="group flex h-full flex-col overflow-hidden rounded-3xl border border-white/10 bg-[rgba(9,18,40,0.78)] shadow-[0_24px_50px_rgba(5,12,28,0.45)] transition-transform duration-300 hover:-translate-y-1 hover:border-accent/40"
>
  {data.hero ? (
    <div class="relative overflow-hidden">
      <img
        src={data.hero}
        alt={data.title}
        class="h-48 w-full object-cover transition duration-500 group-hover:scale-[1.04]"
        loading="lazy"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-[#050f1f]/90 via-[#050f1f]/20 to-transparent"></div>
      <div class="absolute bottom-4 left-4 flex items-center gap-2 text-[11px] uppercase tracking-[0.35em] text-accent">
        <span class="h-1 w-1 rounded-full bg-accent"></span>
        {data.category}
      </div>
    </div>
  ) : (
    <div class="flex h-48 items-center justify-center bg-surfaceMuted/70">
      <span class="text-xs uppercase tracking-[0.35em] text-muted">{data.category}</span>
    </div>
  )}
  <div class="flex flex-1 flex-col gap-3 p-6">
    <div class="flex items-center gap-3 text-xs text-muted">
      <span>{formattedDate}</span>
      {data.tags?.length ? <span class="h-1 w-1 rounded-full bg-white/20"></span> : null}
      {data.tags?.length ? <span class="truncate">{data.tags.slice(0, 2).join(" â€¢ ")}</span> : null}
    </div>
    <h3 class="text-xl font-semibold text-white transition group-hover:text-accent">{data.title}</h3>
    <p class="line-clamp-3 text-sm text-muted">{data.description}</p>
    <div class="mt-auto inline-flex items-center gap-2 text-sm font-medium text-accent">
      Read article
      <svg viewBox="0 0 20 20" fill="none" class="h-4 w-4">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 10h10" />
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m11 6 4 4-4 4" />
      </svg>
    </div>
  </div>
</a>
