---
import BaseLayout from "../layouts/BaseLayout.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";

const posts = (await getCollection("posts", ({ data }) =>
  !data.draft && data.category === "Side Hustles"
)).sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---
<BaseLayout title="Side Hustles â€” Tech & Trek" description="Practical experiments across startups, finance, and alternative income.">
  <h1 class="mb-6 text-2xl font-bold">Side Hustles</h1>
  {posts.length === 0 ? (
    <p class="text-muted">No posts in Side Hustles yet.</p>
  ) : (
    <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
      {posts.map((p) => <PostCard post={p} />)}
    </div>
  )}
</BaseLayout>
