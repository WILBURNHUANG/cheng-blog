---
import BaseLayout from "../layouts/BaseLayout.astro";
import PostCard from "../components/PostCard.astro";
import { getCollection } from "astro:content";
const posts = (await getCollection("posts", ({data}) => !data.draft))
  .sort((a,b)=> b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 12);
---
<BaseLayout>
  <section class="rounded-2xl border border-white/5 bg-[linear-gradient(180deg,#0f1722,transparent),url('/images/hero.webp')] bg-cover bg-center p-10">
    <h1 class="text-3xl md:text-4xl font-extrabold max-w-2xl">Exploring the Frontiers of Tech, Space, and the Great Outdoors</h1>
    <p class="mt-3 max-w-2xl text-muted">AI, space exploration, and mountain air â€” curated essays, experiments, and notes.</p>
    <a href="/ai" class="mt-6 inline-block rounded-xl bg-accent px-4 py-2 text-black font-medium">Read Now</a>
  </section>

  <h2 class="mt-10 mb-4 text-lg text-muted">Recent Posts</h2>
  <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
    {posts.map(p => <PostCard post={p} />)}
  </div>
</BaseLayout>
